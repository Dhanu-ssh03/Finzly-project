<mat-tab-group class="bg-primary-subtle h-100" >
   
    <mat-tab label="Manual Data Entry" >
      <div class="container mt-3 bg-white" >
        <form #customerForm="ngForm" (ngSubmit)="customerFormValidation(customerForm)" class="row border mt-4 shadow p-3">
  
          <div class="col-12 col-md-6 mt-2 border border-2">
            
            <div class="mb-3">
              <mat-form-field appearance="outline" class=" mt-3 w-100">
                <mat-label>Customer ID</mat-label>
                <input type="text" matInput name="id" [(ngModel)]="customer.customerId" pattern="^\d+$" required>
              </mat-form-field>
              <p class="text-danger">{{ idError }}</p>
            </div>
  
           
            <div class="mb-3">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Name</mat-label>
                <input type="text" matInput name="name" [(ngModel)]="customer.customerName" pattern="^[A-Za-z ]+$" required>
              </mat-form-field>
              <p class="text-danger">{{ nameError }}</p>
            </div>
  
       
            <div class="mb-3">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Unit Consumption</mat-label>
                <input type="number" matInput name="unitConsumption" [(ngModel)]="customer.unitConsumption" pattern="^\d+(\.\d+)?$" required>
              </mat-form-field>
              <p class="text-danger">{{ unitConsumptionError }}</p>
            </div>
  
            
            <div class="row g-3">
              <div class="col-12 col-md-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Billing Start Date</mat-label>
                  <input matInput [matDatepicker]="picker1" name="billingStartDate" [(ngModel)]="customer.billingStartDate" required>
                  <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                  <mat-datepicker #picker1></mat-datepicker>
                </mat-form-field>
                <p class="text-danger">{{ billingStartDateError }}</p>
              </div>
  
              <div class="col-12 col-md-6">
                <mat-form-field appearance="outline" class="w-100">
                  <mat-label>Billing End Date</mat-label>
                  <input matInput [matDatepicker]="pickerEnd" name="billingEndDate" [(ngModel)]="customer.billingEndDate" required>
                  <mat-datepicker-toggle matSuffix [for]="pickerEnd"></mat-datepicker-toggle>
                  <mat-datepicker #pickerEnd></mat-datepicker>
                </mat-form-field>
                <p class="text-danger">{{ billingEndDateError }}</p>
              </div>
            </div>
          </div>
  
         
          <div class="col-12 col-md-6 mt-2 ms-0 border border-2">
           
            <div class="mb-3">
              <mat-form-field appearance="outline" class="mt-3 w-100">
                <mat-label>Bill Due Date</mat-label>
                <input matInput [matDatepicker]="pickerDue" name="billDueDate" [(ngModel)]="customer.billDueDate" required>
                <mat-datepicker-toggle matSuffix [for]="pickerDue"></mat-datepicker-toggle>
                <mat-datepicker #pickerDue></mat-datepicker>
              </mat-form-field>
              <p class="text-danger">{{ billDueDateError }}</p>
            </div>
  
           
            <div class="mb-3">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>E-mail</mat-label>
                <input type="email" matInput name="email" [(ngModel)]="customer.email" pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$" required>
              </mat-form-field>
              <p class="text-danger">{{ emailError }}</p>
            </div>
  
          
            <div class="mb-3">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Mobile Number</mat-label>
                <input type="text" matInput name="mobileNumber" [(ngModel)]="customer.mobileNumber" pattern="^[6-9]\d{9}$" required>
              </mat-form-field>
              <p class="text-danger">{{ mobileNumberError }}</p>
            </div>

            <div class="mb-3">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Address</mat-label>
                <input type="text" matInput name="address" [(ngModel)]="customer.address"  required>
              </mat-form-field>
              <p class="text-danger">{{ addressError }}</p>
            </div>
  
          
            <button class="btn btn-primary w-100 mt-2">Submit</button> 
          </div>
        </form>
      </div>
      <div class="spinner-overlay" *ngIf="showSpinner">
        <div class="spinner d-flex">
            <div class="spinner-border text-primary ms-5" style="width: 3rem; height: 3rem;" role="status">
                
            </div>
            <h6 class="text-primary ms-3 mt-4">S a v i n g D a t a. . .</h6> 
        </div>
    </div> 
    </mat-tab>
  
 
    <mat-tab label="Bulk Data Entry">
      <div class="container mt-4 bulk-data-entry-container">
        <button style='font-size:24px' (click)="todashboard()">Back <i class='fas fa-arrow-circle-left'></i></button>
        <h3 class="text-center">Upload Customer Data</h3>
        <div class="mt-5 text-center">
          <p>Select a CSV file containing customer data to validate:</p>
          <input type="file" accept=".csv" class="form-control w-50 mx-auto mt-4" (change)="selectedFile($event)">
          <button class="btn btn-primary w-25 mt-4 ms-2" (click)="uploadFile()">Upload Data</button>
        </div>
        <h5 class="text-success mt-3">{{error}}</h5> 
      </div>
   
    </mat-tab>
    
   
  
